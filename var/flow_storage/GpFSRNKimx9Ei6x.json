{"Id":"GpFSRNKimx9Ei6x","Name":"Virtual thermostat","Group":"device","Description":"Example of virtual thermostat ","Nodes":[{"Id":"1","Type":"trigger","Label":"Thermostat","SuccessTransition":"2","TimeoutTransition":"","ErrorTransition":"","Address":"pt:j1/mt:cmd/rt:dev/rn:flow/ad:1/sv:thermostat/ad:GpFSRNKimx9Ei6x","Service":"thermostat","ServiceInterface":"cmd.setpoint.set","Config":{"InputVariableType":"","IsValueFilterEnabled":false,"RegisterAsVirtualService":true,"Timeout":0,"ValueFilter":{"Value":"","ValueType":"str_map"},"VirtualServiceGroup":"gr_1","VirtualServiceProps":{"sup_setpoints":["cool","heat"]}},"Ui":{"nodeType":"","x":170,"y":156}},{"Id":"2","Type":"transform","Label":"Save setpoint","SuccessTransition":"3","TimeoutTransition":"","ErrorTransition":"","Address":"","Service":"","ServiceInterface":"","Config":{"IsRVariableGlobal":false,"IsTargetVariableGlobal":false,"LVariableName":"","Operation":"add","RValue":{"Value":0,"ValueType":"int"},"RVariableName":"","Rtype":"var","TargetVariableName":"","TransformType":"jpath","ValueMapping":[{"LValue":{"Value":0,"ValueType":"int"},"RValue":{"Value":0,"ValueType":"int"}}],"XPathMapping":[{"IsTargetVariableGlobal":false,"Path":"$.val.temp","TargetVariableName":"thermostat.setpoint","TargetVariableType":"float","UpdateInputVariable":false}]},"Ui":{"nodeType":"","x":142,"y":444}},{"Id":"3","Type":"transform","Label":"increase by 1 degree","SuccessTransition":"4","TimeoutTransition":"","ErrorTransition":"","Address":"","Service":"","ServiceInterface":"","Config":{"IsLVariableGlobal":false,"IsRVariableGlobal":false,"IsTargetVariableGlobal":false,"LVariableName":"thermostat.setpoint","Operation":"add","RType":"const","RValue":{"Value":1,"ValueType":"float"},"RVariableName":"","Rtype":"var","TargetVariableName":"thermostat.setpoint","TargetVariableType":"float","Template":"","TransformType":"calc","ValueMapping":[],"XPathMapping":[]},"Ui":{"nodeType":"","x":418,"y":439}},{"Id":"4","Type":"transform","Label":"set response","SuccessTransition":"5","TimeoutTransition":"","ErrorTransition":"","Address":"","Service":"","ServiceInterface":"","Config":{"IsLVariableGlobal":false,"IsRVariableGlobal":false,"IsTargetVariableGlobal":false,"LVariableName":"thermostat.setpoint","Operation":"add","RValue":{"Value":0,"ValueType":"int"},"RVariableName":"","Rtype":"var","TargetVariableName":"","TargetVariableType":"","Template":" {\"type\":\"heat\",\"temp\":\"{{ variable \"thermostat.setpoint\" false}}\",\"unit\":\"C\"}","TransformType":"template","ValueMapping":[],"XPathMapping":[]},"Ui":{"nodeType":"","x":380,"y":703}},{"Id":"5","Type":"action","Label":"Send updated setpoint","SuccessTransition":"","TimeoutTransition":"","ErrorTransition":"","Address":"pt:j1/mt:evt/rt:dev/rn:flow/ad:1/sv:thermostat/ad:GpFSRNKimx9Ei6x","Service":"thermostat","ServiceInterface":"evt.sepoint.report","Config":{"DefaultValue":{"Value":"","ValueType":""},"IsVariableGlobal":false,"Props":{},"RegisterAsVirtualService":true,"VariableName":"","VirtualServiceGroup":"gr_1","VirtualServiceProps":{}},"Ui":{"nodeType":"","x":348,"y":900}}]}