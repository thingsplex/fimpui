
<div class="settings">

  <mat-card class="settings-card">
    <mat-card-header>
      <mat-card-title><h3> Connectivity settings  </h3></mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-form-field>
        <mat-select [(value)]="fimpTransportType">
          <mat-option value="mqtt">Mqtt</mat-option>
          <mat-option value="webrtc">WebRtc</mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="accent" (click)="saveFimpTransportType()">Save</button>
    </mat-card-actions>
  </mat-card>

 <mat-card *ngIf="fimpTransportType=='mqtt'" class="settings-card">
    <mat-card-header>
     <mat-card-title><h3> Mqtt connection configurations</h3></mat-card-title>
    </mat-card-header>
    <mat-card-content>
    <mat-form-field>
        <input #host matInput placeholder="Hostname" [value] = "fimpService.mqttSeviceOptions.hostname" >
    </mat-form-field>
    <mat-form-field>
        <input #port matInput type="number" placeholder="Port" [value] = "fimpService.mqttSeviceOptions.port" >
    </mat-form-field>
    <mat-form-field>
      <input #port matInput  placeholder="Username" [value] = "fimpService.mqttSeviceOptions.username" >
    </mat-form-field>
    <mat-form-field>
      <input #port matInput  placeholder="Password" [value] = "fimpService.mqttSeviceOptions.password" >
    </mat-form-field>
    <mat-form-field>
      <input #port matInput  placeholder="Global topic prefix" [value] = "fimpService.mqttSeviceOptions.gloabalTopicPrefix" >
    </mat-form-field>

    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="accent" (click)="save(host.value,port.value)">Save</button>
    </mat-card-actions>


  </mat-card>

  <mat-card *ngIf="fimpTransportType=='webrtc'" class="settings-card">
    <mat-card-header>
      <mat-card-title><h3>WebRtc P2P Connection configurations</h3></mat-card-title>
    </mat-card-header>
    <mat-card-content>

      Browser base64 Session Description <textarea   [(ngModel)]="wrtcLocalDescription" rows="5" cols="20" readonly="false"></textarea> <br />
      Golang base64 Session Description: <textarea id="remoteSessionDescription" rows="5" cols="20" ></textarea> <br/>

      <mat-card-actions>
        <button mat-raised-button color="accent" (click)="generateOffer()">Prepare session</button>
        <button mat-raised-button color="accent" (click)="startWrtcSessionFromForm()">Start session from form</button>
        <button mat-raised-button color="accent" (click)="startWrtcRemoteSession()">Start session</button>
      </mat-card-actions>
    </mat-card-content>

  </mat-card>
  <p>Connection : {{connStatus}}</p>
 </div>







