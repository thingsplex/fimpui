<div class="settings">
 <mat-card class="settings-card">
    <mat-card-header>
     <mat-card-title><h3>Settings</h3></mat-card-title>
    </mat-card-header>
    <mat-card-content>
    <mat-input-container>
        <input #host matInput placeholder="Hostname" [value] = "fimpService.mqttSeviceOptions.hostname" >
    </mat-input-container>
    <mat-input-container>
        <input #port matInput type="number" placeholder="Port" [value] = "fimpService.mqttSeviceOptions.port" >
    </mat-input-container>
    <mat-input-container>
      <input #port matInput  placeholder="Username" [value] = "fimpService.mqttSeviceOptions.username" >
    </mat-input-container>
    <mat-input-container>
      <input #port matInput  placeholder="Password" [value] = "fimpService.mqttSeviceOptions.password" >
    </mat-input-container>
    <mat-input-container>
      <input #port matInput  placeholder="Global topic prefix" [value] = "fimpService.mqttSeviceOptions.gloabalTopicPrefix" >
    </mat-input-container>
   
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="accent" (click)="save(host.value,port.value)">Save</button>
    </mat-card-actions>


    <p>Connection status: {{connStatus}}</p>
 
  </mat-card>
 </div> 
  <mat-card class="settings-card">
    <mat-card-header>
     <mat-card-title><h3>Hub manager</h3></mat-card-title>
    </mat-card-header>
    <mat-card-content>

      <mat-card-actions>
        <button mat-raised-button color="accent" (click)="checkForUpdates()">Check for updates</button>
      </mat-card-actions>
      <mat-card-actions>
        <button mat-raised-button color="accent" (click)="appCtrl('vinfimp','status')">Check Vinculum integration status</button>
      </mat-card-actions>
      <mat-card-actions>
        <button mat-raised-button color="accent" (click)="appCtrl('vinfimp','install')">Install Vinculum integration</button>
      </mat-card-actions>
      <mat-card-actions>
        <button mat-raised-button color="accent" (click)="appCtrl('vinfimp','uninstall')">Remove Vinculum integration</button>
      </mat-card-actions>

      <div *ngIf="appCtrlResponse">
        <p>App : {{ appCtrlResponse.app }}</p>
        <p>App status  : {{ appCtrlResponse.app_status }}</p>
        <p>Last operation  : {{ appCtrlResponse.op }}</p>
        <p>Last op status  : {{ appCtrlResponse.op_status }}</p>
        <p>Operation error : {{ appCtrlResponse.op_error }}</p>

      </div>

    </mat-card-content>
    
  </mat-card>


<mat-card class="settings-card">
  <mat-card-header>
    <mat-card-title><h3>P2P Connection</h3></mat-card-title>
  </mat-card-header>
  <mat-card-content>

    Browser base64 Session Description <textarea id="localSessionDescription" rows="5" cols="20" readonly="true"></textarea> <br />
    Golang base64 Session Description: <textarea id="remoteSessionDescription" rows="5" cols="20" ></textarea> <br/>

    <mat-card-actions>
      <button mat-raised-button color="accent" (click)="generateOffer()">Prepare session</button>
      <button mat-raised-button color="accent" (click)="startWrtcSessionFromForm()">Start session from form</button>
      <button mat-raised-button color="accent" (click)="startWrtcRemoteSession()">Start session</button>
    </mat-card-actions>




  </mat-card-content>

</mat-card>


